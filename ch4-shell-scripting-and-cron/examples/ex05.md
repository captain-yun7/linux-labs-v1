### ex05 : 크론탭을 활용한 자동 로그 정리

#### 1. 테스트 환경 구축

```bash
mkdir logs
echo "로그1" > logs/app1.log
echo "로그2" > logs/app2.log
```

#### 2. 로그 정리 스크립트 파일 생성

```bash
vim clean_logs.sh
```

- 파일 내용

```bash
#!/bin/bash
# logs 폴더의 .log 파일을 7일 이상 지난 것만 삭제

find logs/ -name "*.log" -mtime +7 -exec rm -f {} \;
echo "$(date '+%Y-%m-%d %H:%M:%S') - 오래된 로그 삭제 완료" >> logs/clean.log
```

#### 3. 실행 권한 부여

```bash
chmod +x clean_logs.sh
```

#### 4. 크론탭에 예약 등록

```bash
crontab -e
```

- 아래 한 줄을 추가하면 **매일 새벽 3시에 자동으로 오래된 로그가 삭제**됩니다.

```cron
0 3 * * * /home/사용자명/clean_logs.sh >> /home/사용자명/cron_clean.log 2>&1
```

# 테스트용 (1분마다)

- - - - - /home/사용자명/clean_logs.sh >> /home/사용자명/cron_clean.log 2>&1

* `/home/사용자명/`은 자신의 홈 디렉토리 경로로 바꿔주세요.

#### 5. 등록된 크론탭 확인

```bash
crontab -l
```
