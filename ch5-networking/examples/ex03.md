### ex03 : HTTP와 대화하기 (curl)

`curl`은 Command-line URL의 약자로, 터미널에서 HTTP 요청을 보내고 응답을 확인할 수 있는 강력한 도구입니다. 웹사이트 내용을 가져오거나, REST API를 테스트하는 등 활용도가 매우 높습니다.

#### 1\. 웹 페이지 내용 가져오기

```bash
# [google.com의 HTML 내용을 터미널에 출력]
curl google.com

# [-L 옵션: 리다이렉션 따라가기] - http://google.com -> https://www.google.com 으로 이동하는 과정을 자동으로 처리해줍니다.
curl -L google.com

# [-o 옵션: 파일로 저장] - 응답 내용을 google.html 파일로 저장합니다.
curl -L -o google.html google.com
```

#### 2\. HTTP 헤더 정보 확인하기

HTTP 통신은 눈에 보이는 Body(내용) 뿐만 아니라, 눈에 보이지 않는 Header(부가정보)를 함께 주고받습니다. 서버의 종류, 상태 코드, 콘텐츠 타입 등 중요한 정보가 담겨있습니다.

```bash
# [-I 옵션: 헤더 정보만 보기] - Body 없이 헤더만 가져옵니다. (HEAD 요청)
curl -I https://www.google.com

# [-v 옵션: 요청/응답 과정 전체 보기] - 어떤 IP에 접속하고, SSL 인증서는 어떻고, 어떤 헤더를 주고받는지 모든 과정을 상세하게 보여줍니다. (디버깅 시 매우 유용)
curl -v https://www.google.com
```
- `HTTP/2 200`: HTTP/2 프로토콜로 `200 OK` 응답을 받았다는 의미입니다.
- `content-type: text/html`: 응답 내용이 HTML 문서라는 의미입니다.
- `server: gws`: 구글 웹 서버(gws)를 사용하고 있다는 것을 알 수 있습니다.

#### 3\. REST API 테스트 시나리오

`curl`을 사용하여 데이터를 보내고(POST), 수정하고(PUT), 삭제하는(DELETE) 등의 요청을 보낼 수 있습니다. JSON 데이터를 테스트하는 가상 API 서버 `https://jsonplaceholder.typicode.com` 를 사용합니다.

```bash
# [GET 요청] - 특정 게시물(1번)의 정보를 가져옵니다.
curl https://jsonplaceholder.typicode.com/posts/1

# [POST 요청] - 새로운 게시물을 생성합니다.
# -X POST: POST 요청 메소드를 지정합니다.
# -H 'Content-type: ...': 요청 Body가 JSON 형식임을 알려줍니다.
# -d '{...}': 보낼 데이터를 지정합니다.
curl -X POST -H 'Content-type: application/json' -d '{"title": "foo", "body": "bar", "userId": 1}' https://jsonplaceholder.typicode.com/posts

# [PUT 요청] - 기존 게시물(1번)의 정보를 수정합니다.
curl -X PUT -H 'Content-type: application/json' -d '{"id": 1, "title": "foo_updated", "body": "bar_updated", "userId": 1}' https://jsonplaceholder.typicode.com/posts/1

# [DELETE 요청] - 기존 게시물(1번)을 삭제합니다.
curl -X DELETE https://jsonplaceholder.typicode.com/posts/1
``` 